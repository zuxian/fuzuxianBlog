(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{583:function(s,t,r){"use strict";r.r(t);var a=r(13),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h2",{attrs:{id:"cdn"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cdn"}},[s._v("#")]),s._v(" CDN")]),s._v(" "),r("p",[s._v("CDN (Content Delivery Network) 内容分发网络，将数据缓存在离用户最近的地方，使用户以最快的速度获取，并减少源站负载压力的目的；")]),s._v(" "),r("p",[s._v("CDN作为一种基础的云服务，同样具有资源托管、按需扩展（能够应对流量高峰）；")]),s._v(" "),r("h3",{attrs:{id:"cdn原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cdn原理"}},[s._v("#")]),s._v(" CDN原理")]),s._v(" "),r("p",[s._v("用户输入域名 --\x3e DNS服务器 --\x3e CDN专用DNS服务器  --\x3e CDN负载均衡设备 --\x3e CDN缓存服务器")]),s._v(" "),r("blockquote",[r("ul",[r("li",[s._v("用户在浏览器中输入要访问的域名。")]),s._v(" "),r("li",[s._v("浏览器向DNS服务器请求对域名进行解析。由于CDN对域名解析进行了调整，DNS服务器会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器。")]),s._v(" "),r("li",[s._v("CDN的DNS服务器将CDN的负载均衡设备IP地址返回给用户。")]),s._v(" "),r("li",[s._v("用户向CDN的负载均衡设备发起内容URL访问请求。")]),s._v(" "),r("li",[s._v("CDN负载均衡设备会为用户选择一台合适的缓存服务器提供服务。\n综合分析后负载均衡设置会把缓存服务器的IP地址返回给用户。依据包括：")])]),s._v(" "),r("ul",[r("li",[s._v("根据用户IP地址，判断哪一台服务器距离用户最近；")]),s._v(" "),r("li",[s._v("根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户所需内容；")]),s._v(" "),r("li",[s._v("查询各个服务器的负载情况，判断哪一台服务器的负载较小。")])]),s._v(" "),r("ul",[r("li",[s._v("用户向缓存服务器发出请求。")]),s._v(" "),r("li",[s._v("缓存服务器响应用户请求，将用户所需内容传送到用户。\n如果这台缓存服务器上并没有用户想要的内容，而负载均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉取到本地。")])])]),s._v(" "),r("h3",{attrs:{id:"cdn的使用场景"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cdn的使用场景"}},[s._v("#")]),s._v(" CDN的"),r("strong",[s._v("使用场景")])]),s._v(" "),r("blockquote",[r("ul",[r("li",[r("p",[s._v("使用第三方的CDN服务：如果想要开源一些项目，可以使用第三方的CDN服务；")])]),s._v(" "),r("li",[r("p",[s._v("使用CDN进行静态资源的缓存：将自己网站的静态资源放在CDN上，比如js、css、图片等。可以将整个项目放在CDN上，完成一键部署。")])]),s._v(" "),r("li",[r("p",[s._v("直播传送：直播本质上是使用流媒体进行传送，CDN也是支持流媒体传送的，所以直播完全可以使用CDN来提高访问速度。CDN在处理流媒体的时候与处理普通静态文件有所不同，普通文件如果在边缘节点没有找到的话，就会去上一层接着寻找，但是流媒体本身数据量就非常大，如果使用回源的方式，必然会带来性能问题，所以流媒体一般采用的都是主动推送的方式来进行。")])])])]),s._v(" "),r("h3",{attrs:{id:"vue项目实现cdn加速"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue项目实现cdn加速"}},[s._v("#")]),s._v(" Vue项目实现CDN加速")]),s._v(" "),r("ul",[r("li",[s._v("index.html 文件")])]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("body"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div id"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" built files will be auto injected "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.min.js"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://cdn.jsdelivr.net/npm/vue-router@3.0.1/dist/vue-router.min.js"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://cdn.jsdelivr.net/npm/vuex@3.0.1/dist/vuex.min.js"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://cdn.jsdelivr.net/npm/axios@0.18.0/dist/axios.min.js"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://cdn.jsdelivr.net/npm/element-ui@2.14.1/lib/index.js"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("body"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br")])]),r("ul",[r("li",[r("p",[s._v('把项目中有在CDN加速的插件，不用 import … from … 这样去引入了，直接换成 const … = require("…") 这样去引用。')])]),s._v(" "),r("li",[r("p",[s._v("webpack.base.conf.js文件，外部引用，不需要打包进去")])])]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[s._v(" "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("externals")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'vue'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Vue'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'vue-router'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'VueRouter'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'vuex'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Vuex'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'axios'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'axios'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'element-ui'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Element'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);