(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{557:function(s,t,a){s.exports=a.p+"assets/img/k8s-01.182e2a2d.png"},574:function(s,t,a){"use strict";a.r(t);var r=a(13),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"k8s"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#k8s"}},[s._v("#")]),s._v(" k8s")]),s._v(" "),r("p",[s._v("kubernetes用于自动部署，扩展，管理容器化应用程序的分布式系统，将组成应用程序的容器组合成逻辑单元，便于管理和服务发现。")]),s._v(" "),r("p",[s._v("优点： 横向缩放副本数、 自动部署和回滚 、自我修复、服务发现和负载均衡")]),s._v(" "),r("h2",{attrs:{id:"k8s基础概念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#k8s基础概念"}},[s._v("#")]),s._v(" k8s基础概念")]),s._v(" "),r("p",[r("img",{attrs:{src:a(557),alt:"11111"}})]),s._v(" "),r("ul",[r("li",[s._v("Master：集群控制节点，负责整个集群的管理和控制")])]),s._v(" "),r("blockquote",[r("ul",[r("li",[r("p",[s._v("kube-apiserver：集群的统一入口，各组件协调者，以HTTP API提供接口服务，Kubernetes里所有资源的增删改查和监听操作都交给APIServer处理后再提交给Etcd存储")])]),s._v(" "),r("li",[r("p",[s._v("kube-controller-manager：所有资源对象的自动化控制中心")])]),s._v(" "),r("li",[r("p",[s._v("kube-scheduler：负责资源调度（Pod调度）的进程")])])])]),s._v(" "),r("ul",[r("li",[s._v("Node：工作负载节点。每个Node都会被Master分配一些工作负载，当某个Node宕机时，其上的工作负载会被Master自动转移到其他Node节点上。")])]),s._v(" "),r("blockquote",[r("ul",[r("li",[s._v("kubelet：kubelet是Master在Node节点上的Agent，管理本机运行容器的生命周期，负责Pod对应容器的创建、启停等任务。同时与Master密切协作，获取Node节点上Pod的运行状态等")]),s._v(" "),r("li",[s._v("kube-proxy：在Node节点上实现Pod网络代理，实现k8s服务的通信和负载均衡机制，维护各个节点上的转发规则")]),s._v(" "),r("li",[s._v("Docker引擎：负责本机的容器的创建和管理工作")])])]),s._v(" "),r("ul",[r("li",[r("p",[s._v("Etcd：Etcd是一个高可用的键值存储系统，保存所有集群数据，")])]),s._v(" "),r("li",[r("p",[s._v("Replication Controller：保证Pod持续运行，指定数量的Pod副本， 比如滚动升级和弹性伸缩")])]),s._v(" "),r("li",[r("p",[s._v("ReplicaSet：Deployment 是通过 ReplicaSet 来管理 Pod 的多个副本")])]),s._v(" "),r("li",[r("p",[s._v("Deployment：应用管理者，是用于部署应用的对象")])]),s._v(" "),r("li",[r("p",[s._v("Pod：是一组容器，容器共享数据卷volume、 IP地址和端口")])]),s._v(" "),r("li",[r("p",[s._v("Service：一组pod的统一入口，微服务，提供DNS解析名称，负责追踪pod动态变化并更新转发表，通过负载均衡算法最终将流量转发到后端的pod")]),s._v(" "),r("blockquote",[r("ul",[r("li",[s._v("ClusterIP：Service在集群内的唯一ip地址，虚拟的IP，只能在 Kubernetes集群里访问后端的Pod;")]),s._v(" "),r("li",[s._v("NodeIP+NodePort：Service会在集群的每个Node上都启动一个端口，通过NodeIP:NodePort访问后端的Pod；")])])])]),s._v(" "),r("li",[r("p",[s._v("Label：一个key=value的键值对，可被附加到各种资源对象上，例如Node、Pod、Service、RC等")])]),s._v(" "),r("li",[r("p",[s._v("Volume： 存储卷，Pod中能够被多个容器共享的磁盘目录，Docker容器中的数据都是非持久化的，在容器消亡后数据也会消失，因此Docker提供了Volume机制以便实现数据的持久化")]),s._v(" "),r("blockquote",[r("ul",[r("li",[s._v("emptyDir：临时空间，Pod分配到Node时创建，无须指定宿主主机上对应的目录--- 自动分配")]),s._v(" "),r("li",[s._v("hostPath：为Pod挂载宿主主机上-- 不同的Node 的文件或目录。用于数据永久保存")]),s._v(" "),r("li",[s._v("NFS：网络文件系统，可挂载 NFS 到 Pod 中")]),s._v(" "),r("li",[s._v("Persistent Volume：PV 网盘，网络存储，不属于任何Node, 但在每个Node上都可访问")])])])]),s._v(" "),r("li",[r("p",[s._v("Namespace：命名空间，实现多租户的资源隔离")])]),s._v(" "),r("li",[r("p",[s._v("ConfigMap：配置信息的集合，可注入到Pod中的容器使用做为存储卷。")])])]),s._v(" "),r("h2",{attrs:{id:"基本命令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[s._v("#")]),s._v(" 基本命令")]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定某个node节点起pod")]),s._v("\nsudo "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apps"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("kubectl "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" nodes xxxxx "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("show"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("labels\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   kubernetes.io/hostname=xxxxx")]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("nodeSelector")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("noderole")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xxxxxx\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//****************  命令  ****************")]),s._v("\nkubectl create "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f xxx"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml\nkubectl "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f xxx"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml\nkubectl apply "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f xxx"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml\n\nkubectl expose deployment nginx "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("port"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("type"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看服务详情")]),s._v("\nsudo "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apps"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("kubectl describe pod xxxx"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pod"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("name"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("xxx "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n xxx"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("namesapce"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("xxxx\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看创建的服务  ---  查看集群给服务自动分配的ip和端口，ClusterIP 、 NodePort")]),s._v("\nsudo "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apps"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("kubectl "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" svc\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看所有的命名空间 --- default、 kube-system、 kube-public \\ kube-node-lease")]),s._v("\nsudo "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apps"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("kubectl "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" ns\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看某个服务的日志")]),s._v("\nsudo "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apps"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("kubectl logs "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f xxxxxxx\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  进入所起的pod内部")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apps"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("kubectl exec "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("it my"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("7d764cfd68"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jkrqj  bash "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n mynamespace\ncd "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\ncat "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br"),r("span",{staticClass:"line-number"},[s._v("19")]),r("br"),r("span",{staticClass:"line-number"},[s._v("20")]),r("br"),r("span",{staticClass:"line-number"},[s._v("21")]),r("br"),r("span",{staticClass:"line-number"},[s._v("22")]),r("br"),r("span",{staticClass:"line-number"},[s._v("23")]),r("br"),r("span",{staticClass:"line-number"},[s._v("24")]),r("br"),r("span",{staticClass:"line-number"},[s._v("25")]),r("br"),r("span",{staticClass:"line-number"},[s._v("26")]),r("br"),r("span",{staticClass:"line-number"},[s._v("27")]),r("br"),r("span",{staticClass:"line-number"},[s._v("28")]),r("br"),r("span",{staticClass:"line-number"},[s._v("29")]),r("br")])]),r("h2",{attrs:{id:"yaml-文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#yaml-文件"}},[s._v("#")]),s._v(" yaml 文件")]),s._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("apiVersion")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" v1\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("kind")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ConfigMap\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("metadata")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("config\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("data")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n    server "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  configurable"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("variable"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("apiVersion")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" v1\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("kind")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Service\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("metadata")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" my"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("labels")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("app")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" myapp\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("spec")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ports")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" port"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("targetPort")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("protocol")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("type")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ClusterIP\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("selector")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("app")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" myapp\n    "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tier")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("apiVersion")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" apps"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("v1 \n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("kind")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Deployment\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("metadata")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" my"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("labels")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("app")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" myapp\n"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("spec")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("selector")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("matchLabels")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("app")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" myapp\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tier")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("replicas")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("strategy")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("type")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Recreate\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("metadata")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("labels")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("app")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" myapp\n        "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tier")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue\n    "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("spec")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("nodeName")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" node01\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("containers")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" name"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" my"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue\n        "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("image")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" registry"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("paas"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("xxxx"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bc"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("ci"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("20211217200218")]),s._v("\n        "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ports")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" containerPort"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue\n        "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("volumeMounts")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" mountPath"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/share/nginx/html/config/configurable-variable.json"')]),s._v("\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("subPath")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" configurable"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("variable"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("config\n        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" mountPath"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/etc/nginx/conf.d/default.conf"')]),s._v("\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("subPath")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("config\n        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" mountPath"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/log/nginx"')]),s._v("\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("logs\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("subPath")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue\n      "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("volumes")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" name"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("config\n        "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("configMap")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("config\n      "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" name"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("logs\n        "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("persistentVolumeClaim")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n          "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("claimName")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" local"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("log\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br"),r("span",{staticClass:"line-number"},[s._v("19")]),r("br"),r("span",{staticClass:"line-number"},[s._v("20")]),r("br"),r("span",{staticClass:"line-number"},[s._v("21")]),r("br"),r("span",{staticClass:"line-number"},[s._v("22")]),r("br"),r("span",{staticClass:"line-number"},[s._v("23")]),r("br"),r("span",{staticClass:"line-number"},[s._v("24")]),r("br"),r("span",{staticClass:"line-number"},[s._v("25")]),r("br"),r("span",{staticClass:"line-number"},[s._v("26")]),r("br"),r("span",{staticClass:"line-number"},[s._v("27")]),r("br"),r("span",{staticClass:"line-number"},[s._v("28")]),r("br"),r("span",{staticClass:"line-number"},[s._v("29")]),r("br"),r("span",{staticClass:"line-number"},[s._v("30")]),r("br"),r("span",{staticClass:"line-number"},[s._v("31")]),r("br"),r("span",{staticClass:"line-number"},[s._v("32")]),r("br"),r("span",{staticClass:"line-number"},[s._v("33")]),r("br"),r("span",{staticClass:"line-number"},[s._v("34")]),r("br"),r("span",{staticClass:"line-number"},[s._v("35")]),r("br"),r("span",{staticClass:"line-number"},[s._v("36")]),r("br"),r("span",{staticClass:"line-number"},[s._v("37")]),r("br"),r("span",{staticClass:"line-number"},[s._v("38")]),r("br"),r("span",{staticClass:"line-number"},[s._v("39")]),r("br"),r("span",{staticClass:"line-number"},[s._v("40")]),r("br"),r("span",{staticClass:"line-number"},[s._v("41")]),r("br"),r("span",{staticClass:"line-number"},[s._v("42")]),r("br"),r("span",{staticClass:"line-number"},[s._v("43")]),r("br"),r("span",{staticClass:"line-number"},[s._v("44")]),r("br"),r("span",{staticClass:"line-number"},[s._v("45")]),r("br"),r("span",{staticClass:"line-number"},[s._v("46")]),r("br"),r("span",{staticClass:"line-number"},[s._v("47")]),r("br"),r("span",{staticClass:"line-number"},[s._v("48")]),r("br"),r("span",{staticClass:"line-number"},[s._v("49")]),r("br"),r("span",{staticClass:"line-number"},[s._v("50")]),r("br"),r("span",{staticClass:"line-number"},[s._v("51")]),r("br"),r("span",{staticClass:"line-number"},[s._v("52")]),r("br"),r("span",{staticClass:"line-number"},[s._v("53")]),r("br"),r("span",{staticClass:"line-number"},[s._v("54")]),r("br"),r("span",{staticClass:"line-number"},[s._v("55")]),r("br"),r("span",{staticClass:"line-number"},[s._v("56")]),r("br"),r("span",{staticClass:"line-number"},[s._v("57")]),r("br"),r("span",{staticClass:"line-number"},[s._v("58")]),r("br"),r("span",{staticClass:"line-number"},[s._v("59")]),r("br"),r("span",{staticClass:"line-number"},[s._v("60")]),r("br"),r("span",{staticClass:"line-number"},[s._v("61")]),r("br"),r("span",{staticClass:"line-number"},[s._v("62")]),r("br"),r("span",{staticClass:"line-number"},[s._v("63")]),r("br"),r("span",{staticClass:"line-number"},[s._v("64")]),r("br"),r("span",{staticClass:"line-number"},[s._v("65")]),r("br"),r("span",{staticClass:"line-number"},[s._v("66")]),r("br"),r("span",{staticClass:"line-number"},[s._v("67")]),r("br"),r("span",{staticClass:"line-number"},[s._v("68")]),r("br"),r("span",{staticClass:"line-number"},[s._v("69")]),r("br"),r("span",{staticClass:"line-number"},[s._v("70")]),r("br"),r("span",{staticClass:"line-number"},[s._v("71")]),r("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);